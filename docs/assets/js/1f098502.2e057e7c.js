"use strict";(self.webpackChunk_nyx_discord_docs=self.webpackChunk_nyx_discord_docs||[]).push([[409],{8608:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>u});var r=n(7458),o=n(6436),a=n(52),s=n(9262);const i={title:"\ud83d\ude80 First Start"},l="\ud83d\ude80 First Start",c={id:"start",title:"\ud83d\ude80 First Start",description:"Hello there! \ud83d\udc4b This step-by-step guide is here to help you make and run a simple nyx bot.",source:"@site/docs/start.mdx",sourceDirName:".",slug:"/start",permalink:"/docs/start",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/start.mdx",tags:[],version:"current",frontMatter:{title:"\ud83d\ude80 First Start"},sidebar:"nyxSidebar",previous:{title:"\ud83d\udcda Introduction",permalink:"/docs/intro"},next:{title:"\ud83d\udcf8 Events",permalink:"/docs/features/events/event-overview"}},d={},u=[{value:"\u23ec Installation",id:"-installation",level:2},{value:"\ud83d\udc77 Bot Creation",id:"-bot-creation",level:2},{value:"\ud83d\ude80 Bot Starting",id:"-bot-starting",level:2},{value:"\ud83d\udcda Summary",id:"-summary",level:2}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"-first-start",children:"\ud83d\ude80 First Start"}),"\n",(0,r.jsx)(t.p,{children:"Hello there! \ud83d\udc4b This step-by-step guide is here to help you make and run a simple nyx bot."}),"\n",(0,r.jsx)(t.h2,{id:"-installation",children:"\u23ec Installation"}),"\n",(0,r.jsx)(t.p,{children:"First, let's start by installing nyx:"}),"\n",(0,r.jsxs)(a.Z,{groupId:"npm2yarn",children:[(0,r.jsx)(s.Z,{value:"npm",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"npm install @nyx-discord/framework @nyx-discord/core\n"})})}),(0,r.jsx)(s.Z,{value:"yarn",label:"Yarn",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"yarn add @nyx-discord/framework @nyx-discord/core\n"})})}),(0,r.jsx)(s.Z,{value:"pnpm",label:"pnpm",children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"pnpm add @nyx-discord/framework @nyx-discord/core\n"})})})]}),"\n",(0,r.jsx)(t.h2,{id:"-bot-creation",children:"\ud83d\udc77 Bot Creation"}),"\n",(0,r.jsx)(t.p,{children:"The first step is to create a Discord.js client. This can be any client (as long as it's not logged in or destroyed)."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"import {\n  Client,\n  GatewayIntentBits\n} from 'discord.js';\n\nconst client = new Client({\n  intents: [GatewayIntentBits.Guilds],\n});\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Next up, we'll create a new instance of ",(0,r.jsx)(t.code,{children:"Bot"}),", which is ",(0,r.jsx)(t.code,{children:"@framework"}),"'s implementation of ",(0,r.jsx)(t.code,{children:"NyxBot"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["You can do that with ",(0,r.jsx)(t.code,{children:"Bot#create()"}),", which takes a function that gets passed the currently constructing bot\ninstance, and should return the options that you want for the bot."]}),"\n",(0,r.jsx)(t.p,{children:"This is where you'll provide your bot's token, client instance, ID, logger, and other optional settings, like managers."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"import { Bot } from '@nyx-discord/framework';\n\nconst myBot = Bot.create((bot) => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('My bot'),\n  logger: console, // Can be your own logger\n\n  // For example, if you had a custom command manager:\n  // commands: new MyCustomCommandManager(bot),\n}));\n"})}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsxs)(t.p,{children:[(0,r.jsxs)("summary",{children:["About ",(0,r.jsx)("code",{children:"new Bot()"})]}),"\nYou can also instantiate ",(0,r.jsx)("code",{children:"Bot"})," with the ",(0,r.jsx)("code",{children:"new"})," operator, but in order to allow dependency\ninjection, this constructor requires every manager on its options, including default ones."]}),(0,r.jsx)(t.p,{children:"You would need to instantiate and pass every manager to it, like so:"}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"const myBot = new Bot((bot) => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('My bot'),\n  logger: console,\n  events: DefaultEventManager.create(bot, client),\n  plugins: DefaultPluginManager.create(bot),\n  // and so on\n}));\n"})}),(0,r.jsxs)(t.p,{children:["You will find this pattern in a lot of other ",(0,r.jsx)(t.code,{children:"@framework"})," objects, where you can instantiate either with\n",(0,r.jsx)(t.code,{children:"new SomeComponent(depA, depB, ...)"})," specifying every default dependency, or with ",(0,r.jsx)(t.code,{children:"SomeComponent.create()"}),'\n"without" default dependencies.']})]}),"\n",(0,r.jsxs)(t.admonition,{type:"tip",children:[(0,r.jsxs)(t.p,{children:["When creating a bot (either via ",(0,r.jsx)(t.code,{children:"new"})," or ",(0,r.jsx)(t.code,{children:"#create()"}),"), the type of parameters that you return are used in the bot's\ntype signature."]}),(0,r.jsxs)(t.p,{children:["This implies that, for example, if you create a ",(0,r.jsx)(t.code,{children:"MyCustomCommandManager"})," and pass it to the bot's options, the bot will\nknow that its command manager is ",(0,r.jsx)(t.code,{children:"MyCustomCommandManager"})," and not just the generic ",(0,r.jsx)(t.code,{children:"CommandManager"}),", allowing you to use\ncustom properties or methods that you may have added or modified."]})]}),"\n",(0,r.jsx)(t.p,{children:"You can create multiple bots and they'll all work independently of each other. This\nmeans you can have many bots for different purposes, in the same server."}),"\n",(0,r.jsx)(t.h2,{id:"-bot-starting",children:"\ud83d\ude80 Bot Starting"}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsx)(t.p,{children:"You can read more information about bot status in its guide."})}),"\n",(0,r.jsx)(t.p,{children:"To start a bot, you can set it up and then login, or just directly start it:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"await bot.start(); // setups and logins\n\n// or:\nawait bot.setup();\nawait bot.login();\n"})}),"\n",(0,r.jsx)(t.admonition,{type:"danger",children:(0,r.jsxs)(t.p,{children:["Trying to log in a bot without first setting it up will throw an ",(0,r.jsx)(t.code,{children:"IllegalStateError"}),"."]})}),"\n",(0,r.jsx)(t.p,{children:"As a quick explanation:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["When a bot is first created, it starts in the ",(0,r.jsx)(t.code,{children:"Unsetup"})," status. It's NOT recommended to interact with the bot on this state."]}),"\n",(0,r.jsxs)(t.li,{children:["Upon calling ",(0,r.jsx)(t.code,{children:"Bot#setup()"}),', all the managers and plugins are notified about the setup. This is done to safely perform\npossible asynchronous logic that these objects need to actually function, outside the "object construction" step. The\nbot then switches to ',(0,r.jsx)(t.code,{children:"Waiting"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["It's now safe to log in the bot on Discord with ",(0,r.jsx)(t.code,{children:"Bot#login()"}),". Managers and plugins are also notified after the login,\nbut at this point they should already be ready for it."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"-summary",children:"\ud83d\udcda Summary"}),"\n",(0,r.jsx)(t.p,{children:"The final code would look as follows:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-ts",children:"import { Bot } from '@nyx-discord/framework';\nimport {\n  Client,\n  GatewayIntentBits\n} from 'discord.js';\n\nconst client = new Client({ intents: [GatewayIntentBits.Guilds] });\n\nconst bot = Bot.create(() => ({\n  token: 'TOKEN',\n  client,\n  id: Symbol('Bot'),\n  logger: console,\n}));\n\nawait bot.start();\n"})}),"\n",(0,r.jsx)(t.p,{children:"And that's it! You now have a running Discord bot with nyx."}),"\n",(0,r.jsx)(t.p,{children:"If you're interested in the rest of nyx features, such as command adding, event subscribing, schedule creation, etc.,\nmake sure to check the rest of the guides."})]})}function p(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9262:(e,t,n)=>{n.d(t,{Z:()=>s});n(2983);var r=n(8934);const o={tabItem:"tabItem_rG4d"};var a=n(7458);function s(e){let{children:t,hidden:n,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,s),hidden:n,children:t})}},52:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(2983),o=n(8934),a=n(3743),s=n(3729),i=n(2461),l=n(8239),c=n(7333),d=n(6927);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:o}}=e;return{value:t,label:n,attributes:r,default:o}}))}(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const o=(0,s.k6)(),a=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l._X)(a),(0,r.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(o.location.search);t.set(a,e),o.replace({...o.location,search:t.toString()})}),[a,o])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:o}=e,a=h(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:a}))),[c,u]=m({queryString:n,groupId:o}),[b,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[o,a]=(0,d.Nk)(n);return[o,(0,r.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:o}),x=(()=>{const e=c??b;return p({value:e,tabValues:a})?e:null})();(0,i.Z)((()=>{x&&l(x)}),[x]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,a]),tabValues:a}}var f=n(2034);const x={tabList:"tabList_I6mw",tabItem:"tabItem_Qvbi"};var g=n(7458);function y(e){let{className:t,block:n,selectedValue:r,selectValue:s,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.o5)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),o=i[n].value;o!==r&&(c(t),s(o))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t),children:i.map((e=>{let{value:t,label:n,attributes:a}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:u,onClick:d,...a,className:(0,o.Z)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:o}=e;const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==o})))})}function w(e){const t=b(e);return(0,g.jsxs)("div",{className:(0,o.Z)("tabs-container",x.tabList),children:[(0,g.jsx)(y,{...e,...t}),(0,g.jsx)(j,{...e,...t})]})}function v(e){const t=(0,f.Z)();return(0,g.jsx)(w,{...e,children:u(e.children)},String(t))}},6436:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>s});var r=n(2983);const o={},a=r.createContext(o);function s(e){const t=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(a.Provider,{value:t},e.children)}}}]);